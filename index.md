# Исследование интерфейсов для управления облачными системами

Рассмотрим наиболее популярные интерфейсы. Сведем их в таблицу чтобы определить какой из них нам подойдет:

Интерфейсы для управления | ОС | Языки/платформа | Лицензия | Краткое описание 
:---: | :---: | :---: | :---: | :---:
**Portainer** | Linux, Mac OS X, Windows | Go, JavaScript (Angular) | Open Source (zlib License и другие) | Web-интерфейс для работы с Docker-хостами и кластерами Docker Swarm. Позволяет управлять контейнерами, образами (умеет забирать их из Docker Hub), сетями, томами. При просмотре контейнеров для каждого из них доступна базовая статистика (использование ресурсов, процессы), логи, подключение к консоли (веб-терминал xterm.js). 
**Kitematic (Docker Toolbox)** | Mac OS X, Windows | Electron, Node.js, React и AltJS | Open Source (Apache License 2.0) | Стандартный GUI для пользователей Docker в Mac OS X и Windows, который вошёл в состав Docker Toolbox — инсталлятора набора утилит, включающих в себя также Docker Engine, Compose и Machine.
**Shipyard** | Linux, Mac OS X | Go, Node.js. | Open Source (Apache License 2.0) | Это система управления ресурсами Docker, в основу которой заложено наличие своего API. API в Shipyard — RESTful на базе формата JSON, совместим на 100% с Docker Remote API, предлагает дополнительные возможности (в частности — аутентификацию и управление списками доступа, логирование всех выполняемых операций). Этот API и является той базой, вокруг которой уже построен веб-интерфейс.
**Admiral** | Linux, Mac OS X, Windows | Java (фреймворк VMware Xenon) | Open Source (Apache License 2.0) | Платформа от VMware, предназначенная для автоматизированного деплоя контейнеризированных приложений и управления ими на протяжении жизненного цикла. Позиционируется как легковесное решение, призванное упростить жизнь DevOps-инженерам. Веб-интерфейс позволяет управлять хостами с Docker, контейнерами (+ просмотр статистики и логов), шаблонами (образы, интегрированные с Docker Hub), сетями, реестрами, политиками (какие хосты какими контейнерами будут использоваться и как распределять ресурсы). Умеет проверять состояние контейнеров (health checks).
**DockStation** | Linux, Mac OS X, Windows |  Electron (Chromium, Node.js) | проприетарная (freeware) | Молодой проект, две главные особенности — ориентированность на разработчиков (не на DevOps-инженеров или сисадминов) с полноценной поддержкой Docker Compose и закрытость кода (бесплатно для использования, а за деньги авторы предлагают персональную поддержку и доработку возможностей). Позволяет не только управлять образами (поддерживается Docker Hub) и контейнерами (+ статистика и логи), но и заводить проекты с визуализацией связей контейнеров, задействованных в проекте.
**Simple Docker UI** | Linux, Mac OS X, Windows | Electron, Scala.js (+ React on Scala.js) | Open Source (MIT License) | Простой интерфейс для работы с Docker, использующий Docker Remote API. Позволяет управлять контейнерами и образами (с поддержкой Docker Hub), подключаться к консоли, просматривать историю событий. Имеет механизмы удаления неиспользуемых контейнеров и образов. Проект находится в бета-версии и развивается очень медленно.

Протестируем каждый из интерфейсов в этом списке, и за тем сведем результаты работы в таблицу.

### Portainer

[Portainer](https://portainer.io "Сайт Portainer") — мощное решение для работы и конфигурирования Docker контейнеров. Представляет из себя Web приложение которое позволяет проводить настройку и манипуляции с контейнерами. Позволяет проводить очень качественную и полноценную настройку, так как включает в себя большое количство разных параметров.

Запускается он при помощи загрузки и с дальнейшим развёртыванием Docker-образа, которому в качестве параметра передаётся адрес/сокет Docker-хоста. Выполняется это при помощи команды

```bash
sudo docker run -d -v "/var/run/docker.sock:/var/run/docker.sock" -p 9000:9000 portainer/portainer
```
![alt]({{"/Снимок экрана от 2017-11-19 21-08-42.png" | absolute_url}})
Рисунок 1 — Загрузка и развертывание Docker-образа Portainer

Далее заходим в браузере по адресу 0.0.0.0:9000/#/init/admin где создаем пользователя admin 
![alt]({{"/Снимок экрана от 2017-11-19 21-09-47.png" | absolute_url}})
Рисунок 2 — Создание пользователя

Portainer может управлять как локальной так и удаленной средой Docker, но так как мы хотим управлять локальной средой Docker, соответственно её и выбираем:

![alt]({{"/Снимок экрана от 2017-11-19 21-10-39.png" | absolute_url}})
Рисунок 3 — Удаленная среда управления Docker
![alt]({{"/Снимок экрана от 2017-11-19 21-10-58.png" | absolute_url}})
Рисунок 4 — Выбор локальной среды управления

После этой процедуры мы видим страницу Dashboard с общей информацией о состоянии docker-engine:

![alt]({{"/Снимок экрана от 2017-11-19 21-11-22.png" | absolute_url}})
Рисунок 5 — Общая информация о состоянии Docker

Containers. Здесь можно управлять жизненным циклом контейнеров, запущенных на хосте или кластере. Тут доступны такие действия как — запустить, остановить, удалить, создать новый...:

![alt]({{"/Снимок экрана от 2017-11-19 21-12-14.png" | absolute_url}})
Рисунок 6 — Управление жизненным циклом контейнеров

Далее если перейти в управление конкретным контейнером, то у появится возможность наблюдать за потреблением ресурсов конкретного контейнера, просмотра логов, а также подключению к интерактивной консоли. Portainer позволяет зайти внутрь работающего контейнера, в терминальную сессию и выполнять нужные команды прямо с web-страницы. Для начала запускаем контейнер: 

![alt]({{"/Снимок экрана от 2017-11-19 21-13-26.png" | absolute_url}}) Рисунок 7 — Управление контейнером под названием Container1

- Преимущества: OpenSource. Богатый функционал, который позволяет как полноценно настроить проект, так и управлять контейнерами этого проекта. Позволяет подключаться к удаленным нодам и просматривать статистику контейнеров.
- Недостатки: Неудобен если работа происходит более чем с 1-м проектом.

### Kitematic

[Kitematic](https://kitematic.com "Сайт Kitematic") — официальное приложение от Docker. Kitematic это OpenSource решение которое было выкуплено компанией Docker в 2015-м году. Основное назначение и применение — управление и конфигурирование отдельных контейнеров. Имеет минимальный набор функций, обеспечивающих загрузку образов из Docker Hub, управление базовыми настройками контейнеров (включая тома, сети), просмотр логов и подключение к консоли.

Запускается он при помощи загрузки и дальнейшей установки приложения. Установочник скачивается [здесь](https://github.com/docker/kitematic/releases/ "github Kitematic for Windows/MACOS/UBUNTU")

![alt]({{"/Снимок экрана от 2017-11-26 21-45-00.png" | absolute_url}}) Рисунок 8 — Kitematic - подключение к учетной записи Docker Hub 

![alt]({{"/Снимок экрана от 2017-11-26 22-07-06.png" | absolute_url}}) Рисунок 9 — Срузу открывается спиок контейнеров и Log файл

![alt]({{"/Снимок экрана от 2017-11-26 22-05-30.png" | absolute_url}}) Рисунок 10 — Тут же доступ к терминалу

![alt]({{"/Снимок экрана от 2017-11-26 22-06-08.png" | absolute_url}}) Рисунок 11 — Функционал настройки контейнеров

- Преимущества: OpenSource. Официальное приложение.
- Недостатки: Приложение очень ограниченное в возможностях. Очень слабое покрытие функционала Docker.

### Shipyard 

[Shipyard](https://shipyard-project.com "Сайт Shipyard") — решение для работы с контейнерами Docker. Представляет из себя Web приложение которое позволяет проводить настройку и базовые манипуляции с Docker контейнерами. Для хранения служебной информации, не относящейся напрямую к контейнерам и образам, в Shipyard используется RethinkDB. Web-интерфейс позволяет управлять контейнерами (включая просмотр статистики и логов, подключение к консоли), образами, узлами кластера Docker Swarm, приватными реестрами (Registries).

Запускается он при помощи загрузки и с дальнейшим развёртыванием Docker-образа, разворачивается целый ряд контейнеров. Но разработчиками предусмотрена автоматическое развертыванеи. Оно выполняется при помощи команды:

```bash
curl -sSL https://shipyard-project.com/deploy | bash -sDeploying Shipyard
```

После загрузки и запуска группы контейнеров можно заходить на Web-страничку интерфейса.

![alt]({{"/Снимок экрана от 2017-11-26 23-19-14.png" | absolute_url}}) Рисунок 12 — Аутентификация 

![alt]({{"/Снимок экрана от 2017-11-26 23-27-21.png" | absolute_url}}) Рисунок 13 — Сразу обнаружен просчет разработчиков в отображении меню управления контейнерами которые находятся в конце списка.

![alt]({{"/Снимок экрана от 2017-11-26 23-27-38.png" | absolute_url}}) Рисунок 14 — Полное меню кправления контейнером как оно должно выглядеть

![alt]({{"/Снимок экрана от 2017-11-26 23-30-57.png" | absolute_url}}) Рисунок 15 — Меню развертывания контейнеров

- Преимущества: OpenSource. Простой в использовании.
- Недостатки: Проблемы с управлением большим количеством контейнеров. Так же как и Kitematic имеет ограниченный функционал. 
 

### Admiral

[Admiral](https://github.com/vmware/admiral "Сайт Admiral") Платформа от VMware, предназначенная для автоматизированного деплоя контейнеризированных приложений и управления ими на протяжении жизненного цикла. Распространяется и разворачивается как Docker-образ. Работает с Docker 1.12+. Запускается он при помощи загрузки и с дальнейшим развёртыванием Docker-образа. Выполняется это при помощи команды:

```bash
docker run -d -p 8282:8282 --name admiral vmware/admiral
```
![alt]({{"/Снимок экрана от 2017-11-26 23-30-57.png" | absolute_url}}) Рисунок 16 — Admiral - Обще-доступные репозитории

![alt]({{"/Снимок экрана от 2017-11-27 02-23-02.png" | absolute_url}}) Рисунок 17 — Шаблоны приложений

- Преимущества: OpenSource. Русифицированный.
- Недостатки:  Сложности в развертывании, после установки необходим еще ряд действий для подключения и перехода к управлению локальными контейнерами.

### DockStation

[DockStation](https://dockstation.io "Сайт DockStation") — мощный функциональный комбайн для работы с Docker. Главным преимуществом является ориентация на проектную разработку под Docker и работа с Docker Compose. Нативная поддержка Compose конфигураций, в следствие чего получается полноценная поддержка всех возможностей Docker функционала. Очень богатый функционал в виде возможностей работы над Docker проектами в целом, работа с удаленными нодами, мониторинг ресурсов и многое, многое другое. Очень быстрая поддержка, оперативно помогает.

Запускается он при помощи загрузки и дальнейшей установки приложения. Установочник скачивается [здесь](https://dockstation.io/ "DockStation for Windows/MacOS/Linux/UBUNTU/Debian")

![alt]({{"/Снимок экрана от 2017-11-26 20-08-16.png" | absolute_url}}) Рисунок 18 - Работа с Docker Compose -начало создания проекта

![alt]({{"/Снимок экрана от 2017-11-26 20-08-45.png" | absolute_url}}) Рисунок 19 - Параметры и настройки создания нового проекта

![alt]({{"/Снимок экрана от 2017-11-28 19-59-30.png" | absolute_url}}) Рисунок 20 - Запуск проекта

![alt]({{"/Снимок экрана от 2017-11-28 20-01-10.png" | absolute_url}}) Рисунок 21 - Построение схем - управление работой разных элементов проекта

Перейдем к работе с Docker-Machine

![alt]({{"/Снимок экрана от 2017-11-26 20-05-15.png" | absolute_url}}) Рисунок 22 - Логи контейнера

![alt]({{"/Снимок экрана от 2017-11-26 20-05-57.png" | absolute_url}}) Рисунок 23 - Мониторинг ресурсов потребляемых контейнером

![alt]({{"/Снимок экрана от 2017-11-26 20-06-12.png" | absolute_url}}) Рисунок 24 - Основные настройки приложения

![alt]({{"/Снимок экрана от 2017-11-26 20-06-27.png" | absolute_url}}) Рисунок 25 - Настройки Docker

- Преимущества: Работа с Docker Compose. Нативная поддержка Compose конфигураций, в следствие чего получается полноценная поддержка всех возможностей Docker функционала. Очень богатый функционал в виде возможностей работы над Docker проектами в целом, работа с удаленными нодами, мониторинг ресурсов и многое, многое другое.
- Недостатки: Закрытый исходный код.


### Simple Docker UI

[Simple Docker UI](https://github.com/felixgborrego/simple-docker-ui "Сайт Simple Docker UI")
Простой интерфейс для работы с Docker, использующий Docker Remote API. Позволяет управлять контейнерами и образами (с поддержкой Docker Hub), подключаться к консоли, просматривать историю событий. Имеет механизмы удаления неиспользуемых контейнеров и образов. Проект находится в бета-версии и развивается очень медленно (реальная активность, судя по коммитам, утихла в феврале этого года).

![alt]({{"/Снимок экрана от 2017-11-27 02-30-06.png" | absolute_url}}) Рисунок 26 - Домашняя страница, немного перенасыщенно

![alt]({{"/Снимок экрана от 2017-11-27 02-35-13.png" | absolute_url}}) Рисунок 27 - Сразу открыт доступ к терминалу контейнера

![alt]({{"/Снимок экрана от 2017-11-27 02-30-23.png" | absolute_url}}) Рисунок 28 - Имеющиеся образы

 - Преимущества: Имеет механизмы удаления неиспользуемых контейнеров и образов. Быстрое развертывание, так же как расширение к браузеру Google Chrome.
 - Недостатки: Не богатый функционал. Проект находится в бета-версии и развивается очень медленно.

---
## Вывод

Функции | Portainer | Kitematic | Shipyard | Admiral | DockStation | Simple Docker UI
:---: | :---: | :---: | :---: | :---: | :---: | :---:
Работа с Docker Machine | + | + | + | + | + | +
Работа с Docker Compose | - | - | - | - | + | -
Конфигурирование отдельных контейнеров | + | + | + | + | - | -
Web | + | - | + | + | - | +
Базовые манипуляции с контейнерами (старт, стоп, рестарт) | + | + | + | + | + | +
Работа с удаленными нодами | + | - | - | + | + | -
Открытый исходный код | + | + | + | + | - | +
Аутентификация | + | + | + | - | - | -
Руссифицированность | - | - | - | + | - | -
Поддержка работы c swarm режимом | + | - | - | - | + | -
Мониторинг потребления ресурсов | + | - | + | - | + | -
Шаблоны приложений | + | - | - | + | - | -
Группировка и поиск контейнеров | - | - | - | + | + | -
Поиск по логам | - | - | - | + | + | -

Каждый графический инструмент для управления Docker имеет свои плюсы и минусы. Выбирать подходящий инструмент необходимо из поставленной задачи. Если работать с серьезными проектами, то остановиться можно на 2-х решениях DockStation и Portainer. По своим функциональным возможностям эти решения очень мощные. Если ведется работа с использованием Docker Compose, и если вы работаете более чем с 1-м проектом на Docker и необходим мониторинг состояния и потребления ресурсов как отдельных контейнеров, так и проектов в целом, то однозначно для работы более подходящим решением будет являться DockStation. На случай если работа ведется над одним проектом и необходима веб панель и возможность конфигурирования отдельных контейнеров, то Portainer будет являться хорошим решением. Остальные инструменты по функционалу для полной и продуктивной раоты пока не дотягивают.
